<!DOCTYPE HTML>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
<link rel="stylesheet" th:href="@{/css/style.css}"/>
<meta charset="windows-1255">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
<title>Employee Directory</title>
</head>

<body>
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <a class="navbar-brand" th:href="@{/home}">Parking CRM</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  
  <div class="collapse navbar-collapse" id="navbarNav">
    <ul class="navbar-nav mx-auto">
      <li class="nav-item ">
        <a class="nav-link" th:href="@{/home}">Home</a>
      </li>
      <li class="nav-item ">
        <a class="nav-link" th:href="@{/parkingList}">Enter Car</a>
      </li> 
      <li class="nav-item">
        <a class="nav-link" th:href="@{/exit}">Exit Car</a>
      </li>	
      <li class="nav-item active">
        <a class="nav-link" th:href="@{/history}">History</a>
      </li>      
    </ul>
    <form th:action="@{/logout}" method="post">
    	<input type="submit" value="Logout" class="btn btn-danger"/>
	</form>
  </div>
</nav>	

<br>

<h3 class = "text-center"> History Off All Entries To Parking</h3>
<br>
<table class="table w-75 table-striped table-dark table-hover">
 	<thead>
		<tr>
		 	<th scope="col" class="text-center">First Name</th>
		 	<th scope="col" class="text-center">Last Name</th>
		 	<th scope="col" class="text-center">License Number</th>
		 	<th scope="col" class="text-center">Entry Date</th>
		 	<th scope="col" class="text-center">Entry Time</th>
		 	<th scope="col" class="text-center">Exit Date</th>
		 	<th scope="col" class="text-center">Exit Time</th>
		 	<th scope="col" class="text-center">Action</th>
		</tr>
	</thead>
		<tbody>
		<th:block th:each="history : ${history}">
<!-- 		<tr th:each="parkingDetail : ${user.parkingDetails}">-->            
			<td class="text-center" th:text="${history.firstName}"></td>
            <td class="text-center" th:text="${history.lastName}"></td>
            <td class="text-center" th:text="${history.license}"></td>
            <td class="text-center" th:text="${history.entryDate}"></td>
            <td class="text-center" th:text="${history.entryTime}"></td>
			<td class="text-center" th:text="${history.exitDate}"></td>
			<td class="text-center" th:text="${history.exitTime}"></td>
			<td class="text-center">
			
			<a th:href="@{/historyDelete(historyId=${history.id})}" 
			onclick="if(!(confirm('Are you sure you want to delete?')))return false"
			class="btn btn-danger" btnSpace> Delete From History</a>
			</td>
			
<!--             <td class="text-center" th:text="${parkingDetail.entryDate}"></td>
            <td class="text-center" th:text="${parkingDetail.entryTime}"></td>
            <td class="text-center" th:text="${parkingDetail.exitDate}"></td>
            <td class="text-center" th:text="${parkingDetail.exitTime}"></td>

 -->        </tr> 
		</th:block>
		
		</tbody>		
</table>




<div th:insert="footer :: footer"></div>

<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>	
</body>
</html>



